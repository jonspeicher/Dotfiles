# .gitconfig is the user-specific system-wide configuration file for git. git refers to this as the
# "global" configuration file.

# TBD: Machine-specific stuff here (work/home) -----------------------------------------------------

[user]
    name = Jon Speicher
    email = jon.speicher@gmail.com

# TBD: Platform-specific stuff here (OS X/Windows) -------------------------------------------------

# Since line-ends are hard, here is a good explanation of why to set what for each platform:
# http://timclem.wordpress.com/2012/03/01/mind-the-end-of-your-line

[core]
    autocrlf = input
    safecrlf = true
    excludesfile = ~/.gitignore_global
    attributesfile = ~/.gitattributes_global
    editor = vim

# Select the diff and merge tool for this platform and set any tool-specific options. Various tools
# are configured at the end of this file.

[diff]
    tool = Kaleidoscope

[merge]
    tool = Kaleidoscope

# TBD: Platform-generic stuff here -----------------------------------------------------------------

# Use color for all supported git operations only when outputting to a terminal.

[color]
    ui = auto

# Set up generic diff and merge options.

[difftool]
    prompt = false

[merge]
    log = true

[mergetool]
    prompt = false
    keepBackup = false

# Set up convenient git aliases. Where possible, constructs like shell functions are avoided in
# favor of mechanisms that will work across platforms like direct command aliases or, where
# arguments are required, direct subshelling.

[alias]

    # Using difftool, show only changes to the current branch since it departed from the specified
    # parent branch (or master), ignoring changes that have happened on the parent branch since.
    # This is inspired by http://blackpixel.com/blog/2012/11/code-review-kaleidoscope.html.

    departures = !sh -c 'git difftool -y ${1:-master}...HEAD' -

# Configure various external tools. A given tool may not be available on a given platform.

[difftool "Kaleidoscope"]
    cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"

[mergetool "Kaleidoscope"]
    cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
    trustExitCode = true

[difftool "WinMerge"]
    cmd = "\"C:/Program Files (x86)/WinMerge/WinMergeU.exe\" \"$LOCAL\" \"$REMOTE\""

[mergetool "WinMerge"]
    cmd = "\"C:/Program Files (x86)/WinMerge/WinMergeU.exe\" \"$MERGED\""
